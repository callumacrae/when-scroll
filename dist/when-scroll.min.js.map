{"version":3,"sources":["node_modules/lmn-gulp-tasks/node_modules/browserify/node_modules/browser-pack/_prelude.js","src/parser.js","when-scroll.min.js","src/truth.js","src/util.js","src/when-scroll.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","Parser","scrollPattern","this","pattern","util","reduce","split","acc","word","push","_truths","Truth","multiple","truth","fired","prototype","isTrue","scrollTop","./truth","./util",2,"type","distance","parseScrollDistance","_check","checks","parseInt","below","above","every","_lastFiredAt","Math","abs",3,"on","event","element","cb","addEventListener","attachEvent","newHandler","preventDefault","returnValue","stopPropagation","cancelBubble","each","arr","scope","initial","splice","curr",4,"whenScroll","handler","document","window","scrollY","./parser"],"mappings":"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","file":"when-scroll.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\nvar util = require('./util');\nvar Truth = require('./truth');\n\nfunction Parser(scrollPattern) {\n\tthis.pattern = scrollPattern;\n\n\t// Assume a string for now\n\tscrollPattern = util.reduce(scrollPattern.split(' '), function (acc, word) {\n\t\tif (word !== 'and') {\n\t\t\tacc.push(word);\n\t\t}\n\n\t\treturn acc;\n\t}, []);\n\n\tif (scrollPattern.length % 2 === 1) {\n\t\tthrow new Error('when-scroll error: invalid pattern');\n\t}\n\n\tthis._truths = [];\n\n\tfor (var i = 0; i < scrollPattern.length; i += 2) {\n\t\tthis._truths.push(new Truth(scrollPattern[i], scrollPattern[i + 1]));\n\t}\n\n\t// If any of the Truths are multiple, the entire thing should be\n\tthis.multiple = util.reduce(this._truths, function (acc, truth) {\n\t\treturn acc || truth.multiple;\n\t}, false);\n\n\tthis.fired = false;\n}\n\nParser.prototype.isTrue = function parserIsTrue(scrollTop) {\n\tif (this.fired && !this.multiple) {\n\t\treturn false;\n\t}\n\n\tvar isTrue = util.reduce(this._truths, function (acc, truth) {\n\t\treturn acc && truth.isTrue(scrollTop);\n\t}, true);\n\n\tif (isTrue) {\n\t\t// YOU'RE FIRED\n\t\tthis.fired = true;\n\t}\n\n\treturn isTrue;\n};\n\nmodule.exports = Parser;\n",null,"'use strict';\n\nfunction Truth(type, distance) {\n\tthis.type = type;\n\tthis.distance = parseScrollDistance(distance);\n\n\tthis._check = checks[this.type];\n\n\tif (typeof this._check !== 'function') {\n\t\tthrow new Error(this.type + ' check not found');\n\t}\n\n\tthis.multiple = this._check.multiple || false;\n}\n\nTruth.prototype.isTrue = function truthIsTrue(scrollTop) {\n\treturn this._check(this.distance, scrollTop);\n};\n\nmodule.exports = Truth;\n\nvar checks = {};\n\nchecks.below = function belowCheck(distance, scrollTop) {\n\treturn distance <= scrollTop;\n};\n\nchecks.above = function aboveCheck(distance, scrollTop) {\n\treturn distance >= scrollTop;\n};\n\nchecks.every = function everyCheck(distance, scrollTop) {\n\tif (!this._lastFiredAt) {\n\t\tthis._lastFiredAt = 0;\n\t}\n\n\tif (Math.abs(this._lastFiredAt - scrollTop) >= distance) {\n\t\tthis._lastFiredAt = scrollTop;\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\nchecks.every.multiple = true;\n\n/**\n * Converts a string into a number of pixels. Currently only supports pixels.\n *\n * @todo: Support more than pixels!\n *\n * @param {string} distance The distance down the page in pixels.\n * @returns {Number} The distance down the page in pixels.\n */\nfunction parseScrollDistance(distance) {\n\treturn parseInt(distance);\n}\n","'use strict';\n\nvar util = module.exports = {};\n\nutil.on = function onEvent(event, element, cb) {\n\tif (element.addEventListener) {\n\t\telement.addEventListener(event, cb);\n\t} else if (element.attachEvent) {\n\t\tvar newHandler = function falseEventHandler (e) {\n\t\t\te.preventDefault = function () {\n\t\t\t\te.returnValue = false;\n\t\t\t};\n\n\t\t\te.stopPropagation = function () {\n\t\t\t\te.cancelBubble = true;\n\t\t\t};\n\n\t\t\tcb.call(element, e);\n\t\t};\n\n\t\telement.attachEvent('on' + event, newHandler);\n\t}\n};\n\nutil.each = function (arr, cb, scope) {\n\tfor (var i = 0; i < arr.length; i++) {\n\t\tcb.call(scope, arr[i], i, arr);\n\t}\n};\n\nutil.reduce = function (arr, cb, initial) {\n\tif (typeof initial === 'undefined') {\n\t\tinitial = arr.splice(0, 1)[0];\n\t}\n\n\t// It would be silly to carry on calling it initial\n\tvar acc = initial;\n\n\tutil.each(arr, function (curr) {\n\t\tacc = cb(acc, curr);\n\t});\n\n\treturn acc;\n};\n","'use strict';\n\nvar util = require('./util');\nvar Parser = require('./parser');\n\nfunction whenScroll(scrollPattern, cb) {\n\tvar handler = new Parser(scrollPattern);\n\n\tutil.on('scroll', document, function scrollHandler() {\n\t\tvar scrollTop = window.scrollY;\n\t\tif (handler.isTrue(scrollTop)) {\n\t\t\tcb(scrollTop);\n\t\t}\n\t});\n}\n\nwindow.whenScroll = module.exports = whenScroll;\n"],"sourceRoot":"/source/"}